{% extends 'base.html' %}


{% block content %}

    <hr>
        <form action="/log-out" method="GET">
            <input type="hidden" name="logout">
            <input type="submit" value="Log Out">
        </form>

    <hr>

    <h1>Library View</h1>

    <div> <!-- Display visitors currently checked in -->
        <h3>Today's Visitors</h3>
        <!-- Uses displayCurrentVisitors and getCurrentVisitors in JS -->
        <button id="display-visits" class="btn btn-primary">Current Visitors</button> 

        <div id="msg-bad"></div>

        <div>
            <ul id="current-visitors"></ul>
        </div>
    </div>

    <div><!-- Create a Visit -->
        <h3>Visitor Check-In</h3>
        <form id="user-search" action="/find-users" method="GET">
            <!-- Sends form data as GET -->
            <!-- Uses showUserResults and displayuserResults in JS -->
            <div class="form-group">
                Search by:
                <!-- Queries 'users' table in DB -->
                <br>Email:<input id="search-email" class="form-control" type="text" name="email" placeholder="email">
                <br>First Name:<input id="search-fname"class="form-control" type="text" name="fname" placeholder="first name">
                <br>Last Name:<input id="search-lname"class="form-control" type="text" name="lname" placeholder="last name">
            </div>
                <button class="btn btn-primary" type="submit">Search Users</button>
        </form>
    </div>

        <div id='visit-msg'></div>
            <ul id="result-user-list"></ul>
        </div>

    <hr>
        <div id="new-user">
            <h3>Register New User</h3>
            <form id="add-user" action="/add-user" method="POST">
                <!-- Sends form data as POST -->
                <!-- Uses showUserResults and displayuserResults in JS -->
                <div class="form-group">
                    <!-- Queries 'users' table in DB -->
                    <br>First Name:<input id="add-fname"class="form-control" type="text" name="fname" placeholder="first name" required>
                    <br>Last Name:<input id="add-lname"class="form-control" type="text" name="lname" placeholder="last name" required>
                    <br>Email:<input id="add-email" class="form-control" type="email" name="email" placeholder="email" required>
                    <br>User type
                    <select name="type">
                        <option value='user'>User</option>
                        <option value='admin'>Admin</option>
                    </select>
                </div>
                    <button class="btn btn-primary" type="submit">Add User</button>   
            </form>
        </div>

        <div id='register-msg'></div>

    <hr>

<script src="http://code.jquery.com/jquery.js"></script>
<script src="/static/library-functions.js"></script>
{% endblock %}